!function(e,n){function r(e,n){if(0!==n.length&&void 0!==e){n=n instanceof Array?n:n.split(".");for(var r=0;r<n.length;r++)if(e=e[n[r]],void 0===e)return;return e}}function t(e,n,r){return Object.defineProperty(e,n,{enumerable:!1,value:r}),e}e&&(n=module.exports);var s=e?process.nextTick:n.requestAnimationFrame,i={jobs:{},scheduled:!1,register:function(e,n){var r=this;r.jobs[e]=n,r.scheduled===!1&&(r.scheduled=!0,s(function(){r.scheduled=!1;for(var e in r.jobs)r.jobs.hasOwnProperty(e)&&(r.jobs[e](),delete r.jobs[e])}))}},o=0,a=function(e,n,s,c){if("object"==typeof e&&"function"==typeof s){var d,f=n;if(n instanceof Array)d=n,f=n.join(".");else{if("string"!=typeof n)return;d=n.split(".")}for(var l=d[0],u=[],p=0;p<d.length;p++)u.push(d[p]);var $,h=u.splice(1,u.length),v=h.join("."),b=l===f,y=e.$$p;y||(t(e,"$$p",{}),y=e.$$p,t(y,"$properties",{}),t(y,"$id",++o)),void 0===$&&($=y.$id);var g=y.$properties[l];if(!g){g=y.$properties[l]={$self:[],$descendants:{}};var j=e[l];Object.defineProperty(e,l,{get:function(){return j},set:function(e){return m(e,j),j=e}});var m=function(e,n){for(var t in g.$descendants)if(g.$descendants.hasOwnProperty(t))for(var s=0;s<g.$descendants[t].length;s++){var o=g.$descendants[t][s];o.callback(r(e,t),n);var a=$+t;i.register(a,function(){o.bindWatcher()})}if(b){var a=$+l;i.register(a,function(){for(var r=0;r<g.$self.length;r++)g.$self.hasOwnProperty(r)&&g.$self[r](e,n)})}}}if(b)g.$self.push(s),c||s(e[l]);else{g.$descendants[v]||(g.$descendants[v]=[]);var O={callback:s,bindWatcher:function(){e.hasOwnProperty(l)&&void 0!==e[l]&&a(e[l],h,function(e,n){for(var r=0;r<g.$descendants[v].length;r++)g.$descendants[v][r].callback(e,n)},!0)}};g.$descendants[v].push(O),c||O.callback(r(e[l],h)),O.bindWatcher()}}};n.AsyncWatch=a}("undefined"!=typeof module&&module.exports,this);